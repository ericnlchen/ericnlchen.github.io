<!DOCTYPE html>

<head>
  <meta charset='utf-8'/>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.1/p5.min.js"></script>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>L-Systems</title>
  <link href="./stylesheets/index.css" rel="stylesheet">
</head>

<body>
  <div class="title">
    <h1>L-Systems and Why Math is a Tree</h1>
  </div>
  <div class="introduction">
    <p>
      An <b>L-System</b> is a mathematical object which can be used to generate organic looking shapes.
      To define an L-System, you specify an <b>axiom</b> and <b>rules</b>. An axiom is kind of like a seed
      which describes what a plant looks like before it begins to grow. You can think of the rules as the plant's
      DNA which dictates how it changes as it grows. For example, we could have the following L-System:
    </p>
    <img src="ex1.jpeg" alt="A simple example of an L-System">
    <p>
      To "grow" an L-System, we apply the rules to the axiom. Each rule represents a subsitution; wherever we see
      the character on the left side of a rule, we substitute it for the character or characters on the right side.
      In our example above, we apply both rules to get:
    </p>

    <p>
      At each step (or iteration), we apply all the rules we can to obtain a new string. This string becomes our input
      for the next iteration.
    </p>
    <p>
      If we continue this process for many iterations, we can end up with very long and/or complex strings, even if our
      axiom and rules were relatively simple.
    </p>
    <p>
      But how can we examine the structure of the strings we create? The mess of symbols that we generated in the example
      above doesn't appear particularly interesting or complex to the eye as it is.
    </p>
    <p>
      Luckily, there is a way to give this messy string a visual interpretation which reveals its complex structure. In
      fact, there are many ways of visualizing a string but here is one of them: we will imagine that our string is a set
      of instructions for a robot illustrator. We will associate each symbol in the string with an instruction to our robot.
      For example, let's say that "F" means "draw forward." And let's say that "+" means turn left 90 degrees. Now to
      transform our string into a picture, we simply give it to the robot, who reads it symbol by symbol, following the
      instructions one at a time. (Those who are familiar with the turtle module in Python might find this method of drawing familiar).
      When we do this with the string we generated above, this beautiful picture emerges:
    </p>
    <p>
      Here is an interactive example (if you're curious how I created it, click here) where you can create your own L-System by
      inputting an axiom and a set of rules. The resulting image will automatically be drawn according to the visual interpretations of each
      symbol as shown in the table. You can click on the presets to autofill the inputs with some famous examples of L-Systems.
    </p>
    
  </div>

  <div class="input_area">

    <div class="axiom_area">
      <h2>Axiom:</h2>
      <ul class="no_bullet">
        <li>
          <input type="text" id="axiom" name="axiom"><br>
        </li>
      </ul>
    </div>
    <br><br>
    
    <div class="rules_area">
      <h2>Rules:</h2>
      <ul id="rules_list" class="no_bullet">
        <li id="rule_0" class="large_text">
          <input type="text" id="rule_0_input" name="rule_input">
          &#8614;
          <input type="text" id="rule_0_output" name="rule_output">
        </li>
      </ul>
      <div>
        <button id="plus_rule" class="round plus">+</button>
      </div>
    </div>

    <div class="iterations_area">
      <h2>Iterations:</h2>
      <ul class="no_bullet">
        <li>
          <input type="number" id="iters_input" name="iters_input" min="0" value="3"/>
          <div id="iter_warning"></div>
        </li>
      </ul>
    </div>

    <div class="alphabet_area">
      <h2>Alphabet:</h2>
      <table>
        <tr>
          <th>Symbol</th>
          <th>Visual Meaning</th>
        </tr>
        <tr>
          <td>F</td>
          <td>draw forward</td>
        </tr>
        <tr>
          <td>G</td>
          <td>draw forward</td>
        </tr>
        <tr>
          <td>f</td>
          <td>move forward</td>
        </tr>
        <tr>
          <td>g</td>
          <td>move forward</td>
        </tr>
        <tr>
          <td>L</td>
          <td>turn left 90&#176;</td>
        </tr>
        <tr>
          <td>R</td>
          <td>turn right 90&#176;</td>
        </tr>
        <tr>
          <td>l</td>
          <td>turn left 25&#176;</td>
        </tr>
        <tr>
          <td>r</td>
          <td>turn right 25&#176;</td>
        </tr>
        <tr>
          <td>[</td>
          <td>save position (push)</td>
        </tr>
        <tr>
          <td>]</td>
          <td>restore position (pop)</td>
        </tr>
      </table>
      <div>
        <button id="plus_symbol" class="round plus">+</button>
      </div>
    </div>

  </div>
  <script src="matrix.min.js"></script>
  <script src="index.js"></script>
</body>